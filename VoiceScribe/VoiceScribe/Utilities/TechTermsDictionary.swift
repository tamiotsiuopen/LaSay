//
//  TechTermsDictionary.swift
//  VoiceScribe
//
//  Created by Tamio Tsiu on 2026/2/15.
//

import Foundation

struct TechTermsDictionary {
    // 常見的錯誤拼寫 → 正確拼寫
    // 只處理大小寫修正，不改語意
    static let corrections: [String: String] = [
        // ========== Languages ==========
        "javascript": "JavaScript",
        "typescript": "TypeScript",
        "python": "Python",
        "java": "Java",
        "golang": "Golang",
        "swift": "Swift",
        "kotlin": "Kotlin",
        "rust": "Rust",
        "c sharp": "C#",
        "c#": "C#",
        "c plus plus": "C++",
        "c++": "C++",
        "objective c": "Objective-C",
        "objective-c": "Objective-C",
        "ruby": "Ruby",
        "php": "PHP",
        "scala": "Scala",
        "elixir": "Elixir",
        "dart": "Dart",
        "lua": "Lua",
        "perl": "Perl",
        "haskell": "Haskell",
        "clojure": "Clojure",
        "groovy": "Groovy",
        "r language": "R",

        // ========== Frontend Frameworks & Libraries ==========
        "react": "React",
        "reactjs": "React.js",
        "react native": "React Native",
        "nextjs": "Next.js",
        "next.js": "Next.js",
        "vuejs": "Vue.js",
        "vue.js": "Vue.js",
        "nuxtjs": "Nuxt.js",
        "nuxt.js": "Nuxt.js",
        "nuxt": "Nuxt",
        "angular": "Angular",
        "svelte": "Svelte",
        "sveltekit": "SvelteKit",
        "remix": "Remix",
        "astro": "Astro",
        "gatsby": "Gatsby",
        "jquery": "jQuery",
        "tailwind": "Tailwind",
        "tailwind css": "Tailwind CSS",
        "tailwindcss": "Tailwind CSS",
        "bootstrap": "Bootstrap",
        "material ui": "Material UI",
        "chakra ui": "Chakra UI",
        "shadcn": "shadcn",
        "sass": "Sass",
        "scss": "SCSS",
        "less": "Less",
        "styled components": "styled-components",
        "storybook": "Storybook",
        "swiftui": "SwiftUI",
        "uikit": "UIKit",
        "jetpack compose": "Jetpack Compose",
        "flutter": "Flutter",
        "electron": "Electron",
        "tauri": "Tauri",

        // ========== Backend Frameworks ==========
        "fastapi": "FastAPI",
        "django": "Django",
        "flask": "Flask",
        "express": "Express",
        "expressjs": "Express.js",
        "nestjs": "NestJS",
        "koa": "Koa",
        "spring": "Spring",
        "spring boot": "Spring Boot",
        "springboot": "Spring Boot",
        "dotnet": ".NET",
        ".net": ".NET",
        "asp.net": "ASP.NET",
        "aspnet": "ASP.NET",
        "laravel": "Laravel",
        "symfony": "Symfony",
        "rails": "Rails",
        "ruby on rails": "Ruby on Rails",
        "gin": "Gin",
        "fiber": "Fiber",
        "echo": "Echo",
        "actix": "Actix",
        "rocket": "Rocket",
        "phoenix": "Phoenix",
        "ktor": "Ktor",
        "vapor": "Vapor",

        // ========== Data Science / ML / AI ==========
        "pandas": "pandas",
        "numpy": "NumPy",
        "scipy": "SciPy",
        "scikit learn": "scikit-learn",
        "sklearn": "scikit-learn",
        "matplotlib": "Matplotlib",
        "seaborn": "Seaborn",
        "plotly": "Plotly",
        "xgboost": "XGBoost",
        "lightgbm": "LightGBM",
        "catboost": "CatBoost",
        "pytorch": "PyTorch",
        "tensorflow": "TensorFlow",
        "keras": "Keras",
        "hugging face": "Hugging Face",
        "huggingface": "Hugging Face",
        "transformers": "Transformers",
        "openai": "OpenAI",
        "chatgpt": "ChatGPT",
        "gpt": "GPT",
        "claude": "Claude",
        "gemini": "Gemini",
        "langchain": "LangChain",
        "llamaindex": "LlamaIndex",
        "llama index": "LlamaIndex",
        "ollama": "Ollama",
        "llm": "LLM",
        "rag": "RAG",
        "mlops": "MLOps",
        "mlflow": "MLflow",
        "wandb": "W&B",
        "weights and biases": "Weights & Biases",
        "jupyter": "Jupyter",
        "jupyter notebook": "Jupyter Notebook",
        "jupyterlab": "JupyterLab",
        "colab": "Colab",
        "streamlit": "Streamlit",
        "gradio": "Gradio",
        "shap": "SHAP",
        "feature store": "Feature Store",
        "stable diffusion": "Stable Diffusion",
        "midjourney": "Midjourney",
        "anthropic": "Anthropic",
        "mistral": "Mistral",
        "llama": "LLaMA",
        "fine tuning": "fine-tuning",
        "finetuning": "fine-tuning",
        "embeddings": "embeddings",
        "vector db": "vector DB",
        "vector database": "vector database",
        "lora": "LoRA",
        "qlora": "QLoRA",
        "rlhf": "RLHF",
        "dpo": "DPO",
        "cot": "CoT",
        "chain of thought": "Chain of Thought",
        "prompt engineering": "Prompt Engineering",
        "retrieval augmented generation": "Retrieval-Augmented Generation",
        "agentic": "Agentic",
        "multi agent": "Multi-Agent",
        "multimodal": "Multimodal",
        "tokenizer": "tokenizer",
        "attention mechanism": "Attention Mechanism",
        "self attention": "Self-Attention",
        "transformer": "Transformer",
        "bert": "BERT",
        "gpt 4": "GPT-4",
        "gpt 5": "GPT-5",

        // ========== Statistics ==========
        "p value": "p-value",
        "p-value": "p-value",
        "t test": "t-test",
        "t-test": "t-test",
        "z test": "z-test",
        "z-test": "z-test",
        "f test": "F-test",
        "chi square": "chi-square",
        "chi squared": "chi-squared",
        "anova": "ANOVA",
        "manova": "MANOVA",
        "ancova": "ANCOVA",
        "standard deviation": "Standard Deviation",
        "standard error": "Standard Error",
        "confidence interval": "Confidence Interval",
        "hypothesis testing": "Hypothesis Testing",
        "null hypothesis": "Null Hypothesis",
        "type 1 error": "Type I Error",
        "type 2 error": "Type II Error",
        "false positive": "False Positive",
        "false negative": "False Negative",
        "true positive": "True Positive",
        "true negative": "True Negative",
        "precision recall": "Precision-Recall",
        "f1 score": "F1 Score",
        "roc": "ROC",
        "auc": "AUC",
        "roc auc": "ROC-AUC",
        "confusion matrix": "Confusion Matrix",
        "bayesian": "Bayesian",
        "bayes": "Bayes",
        "naive bayes": "Naive Bayes",
        "markov chain": "Markov Chain",
        "monte carlo": "Monte Carlo",
        "mcmc": "MCMC",
        "cross validation": "Cross-Validation",
        "k fold": "K-Fold",
        "stratified": "Stratified",
        "overfitting": "Overfitting",
        "underfitting": "Underfitting",
        "bias variance": "Bias-Variance",
        "multicollinearity": "Multicollinearity",
        "heteroscedasticity": "Heteroscedasticity",
        "autocorrelation": "Autocorrelation",
        "stationarity": "Stationarity",
        "normal distribution": "Normal Distribution",
        "gaussian": "Gaussian",
        "poisson": "Poisson",
        "binomial": "Binomial",
        "exponential distribution": "Exponential Distribution",
        "bernoulli": "Bernoulli",
        "beta distribution": "Beta Distribution",
        "gamma distribution": "Gamma Distribution",
        "uniform distribution": "Uniform Distribution",
        "log normal": "Log-Normal",
        "power law": "Power Law",
        "central limit theorem": "Central Limit Theorem",
        "law of large numbers": "Law of Large Numbers",
        "maximum likelihood": "Maximum Likelihood",
        "mle": "MLE",
        "map estimation": "MAP Estimation",
        "likelihood ratio": "Likelihood Ratio",
        "regression": "Regression",
        "linear regression": "Linear Regression",
        "logistic regression": "Logistic Regression",
        "ridge regression": "Ridge Regression",
        "lasso": "Lasso",
        "elastic net": "Elastic Net",
        "polynomial regression": "Polynomial Regression",
        "r squared": "R²",
        "adjusted r squared": "Adjusted R²",
        "mean squared error": "Mean Squared Error",
        "mse": "MSE",
        "rmse": "RMSE",
        "mae": "MAE",
        "mape": "MAPE",
        "correlation": "Correlation",
        "pearson": "Pearson",
        "spearman": "Spearman",
        "kendall": "Kendall",
        "covariance": "Covariance",
        "variance": "Variance",
        "percentile": "Percentile",
        "quartile": "Quartile",
        "interquartile range": "Interquartile Range",
        "iqr": "IQR",
        "outlier": "Outlier",
        "z score": "Z-Score",
        "effect size": "Effect Size",
        "cohens d": "Cohen's d",
        "statistical significance": "Statistical Significance",
        "power analysis": "Power Analysis",
        "sample size": "Sample Size",
        "sampling": "Sampling",
        "stratified sampling": "Stratified Sampling",
        "survival analysis": "Survival Analysis",
        "kaplan meier": "Kaplan-Meier",
        "cox regression": "Cox Regression",
        "hazard ratio": "Hazard Ratio",
        "time series": "Time Series",
        "arima": "ARIMA",
        "sarima": "SARIMA",
        "exponential smoothing": "Exponential Smoothing",
        "moving average": "Moving Average",
        "seasonality": "Seasonality",
        "trend": "Trend",
        "decomposition": "Decomposition",
        "prophet": "Prophet",

        // ========== Mathematics ==========
        "eigenvalue": "Eigenvalue",
        "eigenvector": "Eigenvector",
        "singular value decomposition": "Singular Value Decomposition",
        "svd": "SVD",
        "pca": "PCA",
        "principal component analysis": "Principal Component Analysis",
        "t sne": "t-SNE",
        "tsne": "t-SNE",
        "umap": "UMAP",
        "dimensionality reduction": "Dimensionality Reduction",
        "gradient descent": "Gradient Descent",
        "sgd": "SGD",
        "stochastic gradient descent": "Stochastic Gradient Descent",
        "adam optimizer": "Adam Optimizer",
        "learning rate": "Learning Rate",
        "backpropagation": "Backpropagation",
        "loss function": "Loss Function",
        "cross entropy": "Cross-Entropy",
        "softmax": "Softmax",
        "sigmoid": "Sigmoid",
        "relu": "ReLU",
        "activation function": "Activation Function",
        "convex optimization": "Convex Optimization",
        "lagrange": "Lagrange",
        "hessian": "Hessian",
        "jacobian": "Jacobian",
        "matrix factorization": "Matrix Factorization",
        "dot product": "Dot Product",
        "cosine similarity": "Cosine Similarity",
        "euclidean distance": "Euclidean Distance",
        "manhattan distance": "Manhattan Distance",
        "minkowski": "Minkowski",
        "l1 norm": "L1 Norm",
        "l2 norm": "L2 Norm",
        "regularization": "Regularization",
        "l1 regularization": "L1 Regularization",
        "l2 regularization": "L2 Regularization",
        "fourier transform": "Fourier Transform",
        "fft": "FFT",
        "convolution": "Convolution",
        "linear algebra": "Linear Algebra",
        "calculus": "Calculus",
        "probability": "Probability",
        "combinatorics": "Combinatorics",
        "graph theory": "Graph Theory",

        // ========== ML Models & Techniques ==========
        "random forest": "Random Forest",
        "decision tree": "Decision Tree",
        "gradient boosting": "Gradient Boosting",
        "gbm": "GBM",
        "gbdt": "GBDT",
        "support vector machine": "Support Vector Machine",
        "svm": "SVM",
        "knn": "KNN",
        "k nearest neighbors": "K-Nearest Neighbors",
        "k means": "K-Means",
        "kmeans": "K-Means",
        "dbscan": "DBSCAN",
        "hierarchical clustering": "Hierarchical Clustering",
        "neural network": "Neural Network",
        "deep learning": "Deep Learning",
        "cnn": "CNN",
        "convolutional neural network": "Convolutional Neural Network",
        "rnn": "RNN",
        "recurrent neural network": "Recurrent Neural Network",
        "lstm": "LSTM",
        "gru": "GRU",
        "gan": "GAN",
        "generative adversarial network": "Generative Adversarial Network",
        "vae": "VAE",
        "variational autoencoder": "Variational Autoencoder",
        "autoencoder": "Autoencoder",
        "diffusion model": "Diffusion Model",
        "reinforcement learning": "Reinforcement Learning",
        "supervised learning": "Supervised Learning",
        "unsupervised learning": "Unsupervised Learning",
        "semi supervised": "Semi-Supervised",
        "self supervised": "Self-Supervised",
        "transfer learning": "Transfer Learning",
        "few shot": "Few-Shot",
        "zero shot": "Zero-Shot",
        "one shot": "One-Shot",
        "in context learning": "In-Context Learning",
        "ensemble": "Ensemble",
        "bagging": "Bagging",
        "boosting": "Boosting",
        "stacking": "Stacking",
        "hyperparameter": "Hyperparameter",
        "hyperparameter tuning": "Hyperparameter Tuning",
        "grid search": "Grid Search",
        "random search": "Random Search",
        "bayesian optimization": "Bayesian Optimization",
        "optuna": "Optuna",
        "batch normalization": "Batch Normalization",
        "dropout": "Dropout",
        "data augmentation": "Data Augmentation",
        "feature engineering": "Feature Engineering",
        "feature selection": "Feature Selection",
        "one hot encoding": "One-Hot Encoding",
        "label encoding": "Label Encoding",
        "word2vec": "Word2Vec",
        "glove": "GloVe",
        "fasttext": "FastText",
        "tf idf": "TF-IDF",
        "tfidf": "TF-IDF",
        "bag of words": "Bag of Words",
        "nlp": "NLP",
        "natural language processing": "Natural Language Processing",
        "named entity recognition": "Named Entity Recognition",
        "ner": "NER",
        "sentiment analysis": "Sentiment Analysis",
        "topic modeling": "Topic Modeling",
        "lda": "LDA",
        "computer vision": "Computer Vision",
        "object detection": "Object Detection",
        "image classification": "Image Classification",
        "semantic segmentation": "Semantic Segmentation",
        "yolo": "YOLO",
        "resnet": "ResNet",
        "vgg": "VGG",
        "inception": "Inception",
        "recommender system": "Recommender System",
        "collaborative filtering": "Collaborative Filtering",
        "content based filtering": "Content-Based Filtering",
        "matrix completion": "Matrix Completion",
        "uplift modeling": "Uplift Modeling",
        "causal inference": "Causal Inference",
        "propensity score": "Propensity Score",
        "instrumental variable": "Instrumental Variable",
        "difference in differences": "Difference-in-Differences",
        "did": "DiD",
        "regression discontinuity": "Regression Discontinuity",

        // ========== Data Engineering ==========
        "spark": "Spark",
        "pyspark": "PySpark",
        "hadoop": "Hadoop",
        "hive": "Hive",
        "presto": "Presto",
        "trino": "Trino",
        "flink": "Flink",
        "kafka": "Kafka",
        "airflow": "Airflow",
        "dagster": "Dagster",
        "prefect": "Prefect",
        "dbt": "dbt",
        "fivetran": "Fivetran",
        "airbyte": "Airbyte",
        "snowflake": "Snowflake",
        "redshift": "Redshift",
        "bigquery": "BigQuery",
        "databricks": "Databricks",
        "delta lake": "Delta Lake",
        "iceberg": "Iceberg",
        "parquet": "Parquet",
        "avro": "Avro",
        "etl": "ETL",
        "elt": "ELT",
        "data lake": "Data Lake",
        "data warehouse": "Data Warehouse",
        "data mesh": "Data Mesh",
        "data pipeline": "Data Pipeline",
        "looker": "Looker",
        "tableau": "Tableau",
        "power bi": "Power BI",
        "metabase": "Metabase",
        "superset": "Superset",

        // ========== Databases ==========
        "redis": "Redis",
        "postgres": "PostgreSQL",
        "postgresql": "PostgreSQL",
        "mysql": "MySQL",
        "mariadb": "MariaDB",
        "mongodb": "MongoDB",
        "mongo": "MongoDB",
        "sqlite": "SQLite",
        "cassandra": "Cassandra",
        "dynamodb": "DynamoDB",
        "couchdb": "CouchDB",
        "neo4j": "Neo4j",
        "elasticsearch": "Elasticsearch",
        "opensearch": "OpenSearch",
        "supabase": "Supabase",
        "firebase": "Firebase",
        "firestore": "Firestore",
        "planetscale": "PlanetScale",
        "cockroachdb": "CockroachDB",
        "pinecone": "Pinecone",
        "weaviate": "Weaviate",
        "chromadb": "ChromaDB",
        "milvus": "Milvus",

        // ========== DevOps / Infra / Cloud ==========
        "docker": "Docker",
        "kubernetes": "Kubernetes",
        "k8s": "K8s",
        "helm": "Helm",
        "istio": "Istio",
        "aws": "AWS",
        "gcp": "GCP",
        "azure": "Azure",
        "vercel": "Vercel",
        "netlify": "Netlify",
        "heroku": "Heroku",
        "digitalocean": "DigitalOcean",
        "cloudflare": "Cloudflare",
        "terraform": "Terraform",
        "pulumi": "Pulumi",
        "ansible": "Ansible",
        "jenkins": "Jenkins",
        "github actions": "GitHub Actions",
        "gitlab ci": "GitLab CI",
        "circleci": "CircleCI",
        "argocd": "ArgoCD",
        "nginx": "Nginx",
        "apache": "Apache",
        "caddy": "Caddy",
        "prometheus": "Prometheus",
        "grafana": "Grafana",
        "datadog": "Datadog",
        "sentry": "Sentry",
        "new relic": "New Relic",
        "lambda": "Lambda",
        "s3": "S3",
        "ec2": "EC2",
        "ecs": "ECS",
        "eks": "EKS",
        "fargate": "Fargate",
        "cloudformation": "CloudFormation",

        // ========== Tools & Editors ==========
        "github": "GitHub",
        "gitlab": "GitLab",
        "bitbucket": "Bitbucket",
        "git": "Git",
        "npm": "npm",
        "yarn": "yarn",
        "pnpm": "pnpm",
        "bun": "Bun",
        "deno": "Deno",
        "webpack": "webpack",
        "vite": "Vite",
        "esbuild": "esbuild",
        "rollup": "Rollup",
        "turbopack": "Turbopack",
        "turborepo": "Turborepo",
        "linux": "Linux",
        "ubuntu": "Ubuntu",
        "debian": "Debian",
        "centos": "CentOS",
        "macos": "macOS",
        "ios": "iOS",
        "android": "Android",
        "xcode": "Xcode",
        "vs code": "VS Code",
        "vscode": "VS Code",
        "visual studio code": "VS Code",
        "visual studio": "Visual Studio",
        "intellij": "IntelliJ",
        "pycharm": "PyCharm",
        "webstorm": "WebStorm",
        "goland": "GoLand",
        "rider": "Rider",
        "neovim": "Neovim",
        "vim": "Vim",
        "emacs": "Emacs",
        "cursor": "Cursor",
        "copilot": "Copilot",
        "claude code": "Claude Code",
        "codex": "Codex",

        // ========== Testing ==========
        "jest": "Jest",
        "mocha": "Mocha",
        "cypress": "Cypress",
        "playwright": "Playwright",
        "selenium": "Selenium",
        "pytest": "pytest",
        "unittest": "unittest",
        "junit": "JUnit",
        "rspec": "RSpec",
        "vitest": "Vitest",
        "testing library": "Testing Library",

        // ========== Concepts & Acronyms ==========
        "api": "API",
        "rest": "REST",
        "restful": "RESTful",
        "graphql": "GraphQL",
        "grpc": "gRPC",
        "websocket": "WebSocket",
        "json": "JSON",
        "yaml": "YAML",
        "toml": "TOML",
        "xml": "XML",
        "csv": "CSV",
        "html": "HTML",
        "css": "CSS",
        "sql": "SQL",
        "nosql": "NoSQL",
        "ci cd": "CI/CD",
        "cicd": "CI/CD",
        "devops": "DevOps",
        "devsecops": "DevSecOps",
        "saas": "SaaS",
        "paas": "PaaS",
        "iaas": "IaaS",
        "oauth": "OAuth",
        "jwt": "JWT",
        "sdk": "SDK",
        "cli": "CLI",
        "crud": "CRUD",
        "orm": "ORM",
        "mvc": "MVC",
        "mvvm": "MVVM",
        "dry": "DRY",
        "solid": "SOLID",
        "tdd": "TDD",
        "bdd": "BDD",
        "agile": "Agile",
        "scrum": "Scrum",
        "kanban": "Kanban",
        "jira": "Jira",
        "confluence": "Confluence",
        "notion": "Notion",
        "figma": "Figma",
        "a b test": "A/B Test",
        "ab test": "A/B Test",
        "kpi": "KPI",
        "okr": "OKR",
        "dag": "DAG",
        "cron": "cron",
        "regex": "regex",
        "tcp": "TCP",
        "http": "HTTP",
        "https": "HTTPS",
        "ssh": "SSH",
        "ssl": "SSL",
        "tls": "TLS",
        "dns": "DNS",
        "cdn": "CDN",
        "vpc": "VPC",
        "iam": "IAM",
    ]

    // ========== 中文術語修正 ==========
    // Whisper 常見中文誤轉 → 正確術語
    // 不使用 word boundary（中文沒有），直接字串替換
    static let chineseCorrections: [String: String] = [
        // ===== 軟體開發 =====
        // Whisper 常見誤轉
        "賈法": "Java",
        "賈瓦": "Java",
        "派森": "Python",
        "拍森": "Python",

        // 開發概念
        "原始碼": "原始碼",
        "元件庫": "元件庫",
        "套件管理": "套件管理",
        "版本控制": "版本控制",
        "程式碼審查": "Code Review",
        "代碼審查": "Code Review",
        "重構": "重構",
        "耦合": "耦合",
        "解耦": "解耦",
        "抽象化": "抽象化",
        "封裝": "封裝",
        "繼承": "繼承",
        "多型": "多型",
        "介面": "介面",
        "回呼": "回呼",
        "閉包": "閉包",
        "非同步": "非同步",
        "同步": "同步",
        "並行": "並行",
        "平行處理": "平行處理",
        "多執行緒": "多執行緒",
        "死鎖": "死鎖",
        "競爭條件": "競爭條件",
        "快取": "快取",
        "緩存": "快取",
        "佇列": "佇列",
        "堆疊": "堆疊",
        "雜湊": "雜湊",
        "遞迴": "遞迴",
        "迭代": "迭代",
        "演算法": "演算法",
        "資料結構": "資料結構",
        "二元樹": "二元樹",
        "鏈結串列": "鏈結串列",
        "排序演算法": "排序演算法",
        "動態規劃": "動態規劃",
        "貪心演算法": "貪心演算法",
        "時間複雜度": "時間複雜度",
        "空間複雜度": "空間複雜度",

        // 架構 & DevOps
        "微服務": "微服務",
        "容器化": "容器化",
        "持續整合": "持續整合",
        "持續部署": "持續部署",
        "負載均衡": "負載均衡",
        "高可用": "高可用",
        "水平擴展": "水平擴展",
        "垂直擴展": "垂直擴展",
        "訊息佇列": "訊息佇列",
        "服務發現": "服務發現",
        "斷路器": "斷路器",
        "熔斷器": "熔斷器",
        "限流": "限流",
        "降級": "降級",
        "灰度發布": "灰度發布",
        "藍綠部署": "藍綠部署",
        "金絲雀部署": "金絲雀部署",
        "滾動更新": "滾動更新",

        // 資料庫
        "關聯式資料庫": "關聯式資料庫",
        "非關聯式資料庫": "非關聯式資料庫",
        "索引": "索引",
        "主鍵": "主鍵",
        "外鍵": "外鍵",
        "交易": "交易",
        "事務": "事務",
        "正規化": "正規化",
        "反正規化": "反正規化",
        "分區": "分區",
        "分片": "分片",
        "讀寫分離": "讀寫分離",
        "主從複製": "主從複製",

        // ===== 統計學 =====
        // Whisper 常見中文誤轉
        "P值": "p-value",
        "p值": "p-value",
        "皮值": "p-value",

        // 基礎統計
        "平均數": "平均數",
        "中位數": "中位數",
        "眾數": "眾數",
        "標準差": "標準差",
        "變異數": "變異數",
        "共變異數": "共變異數",
        "相關係數": "相關係數",
        "百分位數": "百分位數",
        "四分位數": "四分位數",
        "四分位距": "四分位距",
        "離群值": "離群值",
        "偏態": "偏態",
        "峰態": "峰態",

        // 假設檢定
        "假設檢定": "假設檢定",
        "虛無假設": "虛無假設",
        "對立假設": "對立假設",
        "顯著水準": "顯著水準",
        "信賴區間": "信賴區間",
        "檢定力": "檢定力",
        "統計顯著": "統計顯著",
        "型一錯誤": "Type I Error",
        "型二錯誤": "Type II Error",
        "第一類型錯誤": "Type I Error",
        "第二類型錯誤": "Type II Error",
        "偽陽性": "偽陽性",
        "偽陰性": "偽陰性",
        "效果量": "效果量",
        "樣本數": "樣本數",
        "抽樣": "抽樣",
        "隨機抽樣": "隨機抽樣",
        "分層抽樣": "分層抽樣",
        "自助法": "Bootstrap",

        // 迴歸分析
        "迴歸分析": "迴歸分析",
        "線性迴歸": "線性迴歸",
        "邏輯迴歸": "邏輯迴歸",
        "羅吉斯迴歸": "邏輯迴歸",
        "多元迴歸": "多元迴歸",
        "殘差": "殘差",
        "判定係數": "判定係數",
        "多元共線性": "多元共線性",
        "異質變異數": "異質變異數",
        "自相關": "自相關",
        "正則化": "正則化",

        // 機率分佈
        "常態分佈": "常態分佈",
        "正態分佈": "常態分佈",
        "高斯分佈": "高斯分佈",
        "二項分佈": "二項分佈",
        "卜瓦松分佈": "卜瓦松分佈",
        "泊松分佈": "卜瓦松分佈",
        "指數分佈": "指數分佈",
        "均勻分佈": "均勻分佈",
        "貝塔分佈": "Beta 分佈",
        "伽瑪分佈": "Gamma 分佈",
        "對數常態分佈": "對數常態分佈",
        "中央極限定理": "中央極限定理",
        "大數法則": "大數法則",

        // 貝氏統計
        "貝氏": "貝氏",
        "貝葉斯": "貝氏",
        "先驗機率": "先驗機率",
        "後驗機率": "後驗機率",
        "似然函數": "似然函數",
        "最大似然估計": "最大似然估計",
        "最大後驗估計": "MAP 估計",
        "馬可夫鏈": "馬可夫鏈",
        "蒙地卡羅": "蒙地卡羅",

        // 變異數分析
        "變異數分析": "變異數分析",

        // 時間序列
        "時間序列": "時間序列",
        "季節性": "季節性",
        "趨勢": "趨勢",
        "平穩性": "平穩性",
        "自迴歸": "自迴歸",
        "移動平均": "移動平均",
        "指數平滑": "指數平滑",
        "差分": "差分",
        "落後期": "落後期",

        // 存活分析
        "存活分析": "存活分析",
        "風險比": "風險比",

        // ===== 資料科學 & 機器學習 =====
        // Whisper 常見中文誤轉
        "機器學習": "機器學習",
        "深度學習": "深度學習",
        "人工智慧": "人工智慧",
        "自然語言處理": "自然語言處理",
        "電腦視覺": "電腦視覺",
        "強化學習": "強化學習",
        "監督式學習": "監督式學習",
        "非監督式學習": "非監督式學習",
        "半監督式學習": "半監督式學習",
        "遷移學習": "遷移學習",
        "生成式AI": "生成式 AI",
        "生成式ai": "生成式 AI",

        // 模型 & 演算法
        "決策樹": "決策樹",
        "隨機森林": "隨機森林",
        "梯度提升": "梯度提升",
        "支持向量機": "支持向量機",
        "支撐向量機": "支持向量機",
        "最近鄰": "最近鄰",
        "類神經網路": "類神經網路",
        "神經網路": "神經網路",
        "卷積神經網路": "卷積神經網路",
        "遞迴神經網路": "遞迴神經網路",
        "生成對抗網路": "生成對抗網路",
        "變分自編碼器": "變分自編碼器",
        "自編碼器": "自編碼器",
        "擴散模型": "擴散模型",
        "注意力機制": "注意力機制",
        "自注意力": "自注意力",
        "多頭注意力": "多頭注意力",

        // 訓練 & 調參
        "訓練集": "訓練集",
        "驗證集": "驗證集",
        "測試集": "測試集",
        "過擬合": "過擬合",
        "欠擬合": "欠擬合",
        "偏差變異數權衡": "偏差-變異數權衡",
        "交叉驗證": "交叉驗證",
        "超參數": "超參數",
        "超參數調整": "超參數調整",
        "網格搜尋": "網格搜尋",
        "隨機搜尋": "隨機搜尋",
        "梯度下降": "梯度下降",
        "隨機梯度下降": "隨機梯度下降",
        "學習率": "學習率",
        "反向傳播": "反向傳播",
        "損失函數": "損失函數",
        "目標函數": "目標函數",
        "激活函數": "激活函數",
        "批次正規化": "批次正規化",
        "丟棄法": "Dropout",
        "資料增強": "資料增強",

        // 特徵工程
        "特徵工程": "特徵工程",
        "特徵選擇": "特徵選擇",
        "特徵萃取": "特徵萃取",
        "降維": "降維",
        "主成分分析": "主成分分析",
        "獨熱編碼": "One-Hot Encoding",
        "標籤編碼": "Label Encoding",
        "標準化": "標準化",
        "歸一化": "歸一化",

        // 評估指標
        "準確率": "準確率",
        "精確率": "精確率",
        "召回率": "召回率",
        "混淆矩陣": "混淆矩陣",

        // NLP
        "分詞": "分詞",
        "詞向量": "詞向量",
        "詞嵌入": "詞嵌入",
        "命名實體辨識": "命名實體辨識",
        "情感分析": "情感分析",
        "主題模型": "主題模型",
        "文本分類": "文本分類",
        "文本生成": "文本生成",
        "語言模型": "語言模型",
        "大型語言模型": "大型語言模型",
        "提示工程": "Prompt Engineering",
        "微調": "微調",
        "預訓練": "預訓練",

        // 推薦系統
        "推薦系統": "推薦系統",
        "協同過濾": "協同過濾",
        "內容過濾": "內容過濾",
        "冷啟動": "冷啟動",

        // 因果推論
        "因果推論": "因果推論",
        "傾向分數": "傾向分數",
        "工具變數": "工具變數",
        "雙重差分法": "雙重差分法",
        "斷點迴歸": "斷點迴歸",
        "反事實": "反事實",
        "隨機對照試驗": "隨機對照試驗",
        "自然實驗": "自然實驗",

        // 資料工程
        "資料管線": "資料管線",
        "資料湖": "資料湖",
        "資料倉儲": "資料倉儲",
        "資料清洗": "資料清洗",
        "資料治理": "資料治理",
        "資料品質": "資料品質",
        "批次處理": "批次處理",
        "串流處理": "串流處理",
        "即時處理": "即時處理",

        // 商業分析
        "漏斗分析": "漏斗分析",
        "留存率": "留存率",
        "流失率": "流失率",
        "顧客終身價值": "顧客終身價值",
        "轉換率": "轉換率",
        "歸因模型": "歸因模型",
        "世代分析": "世代分析",
    ]

    /// Pre-compiled regex patterns for English (word boundary aware, compiled once)
    private static let compiledPatterns: [(NSRegularExpression, String)] = {
        corrections.compactMap { (wrong, correct) in
            let pattern = "\\b\(NSRegularExpression.escapedPattern(for: wrong))\\b"
            guard let regex = try? NSRegularExpression(pattern: pattern, options: .caseInsensitive) else {
                return nil
            }
            return (regex, correct)
        }
    }()

    /// Pre-compiled Chinese patterns (simple string matching, no word boundary)
    private static let compiledChinesePatterns: [(NSRegularExpression, String)] = {
        chineseCorrections.compactMap { (wrong, correct) in
            guard wrong != correct else { return nil }  // Skip identity mappings
            let pattern = NSRegularExpression.escapedPattern(for: wrong)
            guard let regex = try? NSRegularExpression(pattern: pattern, options: []) else {
                return nil
            }
            return (regex, correct)
        }
    }()

    /// 對文字套用術語修正（English: word boundary aware, Chinese: direct match）
    static func apply(to text: String) -> String {
        var result = text
        // Apply English corrections (word boundary)
        for (regex, correct) in compiledPatterns {
            result = regex.stringByReplacingMatches(
                in: result,
                range: NSRange(result.startIndex..., in: result),
                withTemplate: correct
            )
        }
        // Apply Chinese corrections (direct match)
        for (regex, correct) in compiledChinesePatterns {
            result = regex.stringByReplacingMatches(
                in: result,
                range: NSRange(result.startIndex..., in: result),
                withTemplate: correct
            )
        }
        return result
    }
}
